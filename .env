# adaptive-bi-system/.env
# Environment variables for your project services

# MongoDB Configuration (Phase 1)
MONGO_USERNAME=admin
MONGO_PASSWORD=admin123
MONGO_HOST=localhost # This is the service name in docker-compose.yml
MONGO_PORT=27017
MONGO_DB_NAME=adaptive_bi
MONGO_URI=mongodb://${MONGO_USERNAME}:${MONGO_PASSWORD}@${MONGO_HOST}:${MONGO_PORT}/${MONGO_DB_NAME}?authSource=admin

# Data Streaming Configuration
STREAM_INTERVAL_SECONDS=0.5 # Interval for data generation in streaming_etl.py
NUM_INITIAL_USERS=5000
NUM_INITIAL_PRODUCTS=1000
TRANSACTIONS_PER_SECOND=100
USER_ACTIVITIES_PER_SECOND=250
FEEDBACK_PER_MINUTE=15
NEW_USER_PROBABILITY_PER_BATCH=0.0005
NEW_PRODUCT_PROBABILITY_PER_BATCH=0.0002
INSERT_BATCH_SIZE=1000
REPORTING_INTERVAL_SECONDS=10

# Backend Configuration (Phase 2)
NODE_ENV=development
BACKEND_PORT=3000 # Your server.js uses BACKEND_PORT
MONGO_URI=mongodb://admin:admin123@mongodb:27017/adaptive_bi?authSource=admin

# JWT Secret for Authentication (IMPORTANT: CHANGE THIS FOR PRODUCTION!)
JWT_SECRET=a_very_secret_key_for_jwt_development_only_123456
JWT_EXPIRES_IN=1h

# Frontend URL (for CORS - as used in your server.js for Socket.IO)
FRONTEND_URL=http://localhost:3001 # Changed to 3001 as per your server.js


# AI Service Configuration (Phase 3)
AI_SERVICE_HOST=0.0.0.0
AI_SERVICE_PORT=8000
AI_SERVICE_DEBUG=True # Set to False for production

# MongoDB Connection for AI Service (should match backend's MONGO_URI, but relative to service)
MONGODB_URL=mongodb://admin:admin123@mongodb:27017/adaptive_bi?authSource=admin
DATABASE_NAME=adaptive_bi

# AI Model Specific Settings
MODEL_SAVE_PATH=/app/models/saved_models # This path is INSIDE the Docker container

# NEW: Model retraining interval in MINUTES
MODEL_RETRAIN_INTERVAL_MINUTES=15 # Set to 15 for 15 minutes, 1440 for 24 hours, etc.
# OLD: RETRAIN_INTERVAL_HOURS=24 # This line will be ignored by new config.py, can be removed

# Forecasting Model Parameters
FORECAST_HORIZON=7 # Days to forecast (e.g., 7 days)
FORECAST_MODEL_TYPE=RandomForestRegressor # RandomForestRegressor or LinearRegression

# Anomaly Detection Model Parameters
ANOMALY_THRESHOLD=0.01 # Contamination for IsolationForest (e.g., 0.01 for 1% anomalies)
ANOMALY_MODEL_TYPE=IsolationForest # IsolationForest or OneClassSVM

# Recommendation Model Parameters
MIN_INTERACTIONS_FOR_RECOMMENDATION=5 # Minimum number of user interactions to be included in matrix
RECOMMENDER_MODEL_TYPE=SVD # SVD or KNNWithMeans (if implemented using Surprise, for example)

# Data Collection Window for ML model training (in days)
DATA_COLLECTION_DAYS=90

# CORS Settings for AI Service (allow specific origins or '*')
CORS_ORIGINS=* # For development, allows all. Restrict for production: http://localhost:3000,http://localhost:5173