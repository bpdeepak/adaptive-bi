[32m2025-06-26 15:27:27.039[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 15:27:27.049[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 15:27:27.049[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m39[0m - [1mInitializing AI models...[0m
[32m2025-06-26 15:27:27.049[0m | [31m[1mERROR   [0m | [36mapp.main[0m:[36mlifespan[0m:[36m35[0m - [31m[1mFailed to initialize AI models: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None[0m
[32m2025-06-26 15:44:39.276[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 15:44:39.278[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m45[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 15:44:39.279[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 15:45:47.686[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 15:45:47.698[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 15:45:47.698[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 15:45:47.698[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m223[0m - [33m[1mForecasting model not found at /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib. Model needs to be trained.[0m
[32m2025-06-26 15:45:47.698[0m | [33m[1mWARNING [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m169[0m - [33m[1mAnomaly detection model not found at /app/models/saved_models/anomaly_model_IsolationForest.joblib. Model needs to be trained.[0m
[32m2025-06-26 15:45:47.698[0m | [33m[1mWARNING [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m160[0m - [33m[1mRecommendation model not found at /app/models/saved_models/recommendation_model_SVD.joblib. Model needs to be trained.[0m
[32m2025-06-26 15:45:47.698[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m58[0m - [33m[1mOne or more models not found or failed to load. Initiating initial training.[0m
[32m2025-06-26 15:45:47.698[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 15:45:47.699[0m | [31m[1mERROR   [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m124[0m - [31m[1mError during full model retraining: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None[0m
[32m2025-06-26 15:45:47.699[0m | [31m[1mERROR   [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m65[0m - [31m[1mNot all models are trained/ready after initialization phase.[0m
[32m2025-06-26 15:45:47.699[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m27[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 15:45:47.699[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m31[0m - [1mScheduling model retraining every 24 hours.[0m
[32m2025-06-26 16:06:36.527[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 16:06:36.529[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m45[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 16:06:36.530[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 16:07:23.241[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 16:07:23.252[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 16:07:23.253[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 16:07:23.253[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m224[0m - [33m[1mForecasting model not found at /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:07:23.253[0m | [33m[1mWARNING [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m180[0m - [33m[1mAnomaly detection model not found at /app/models/saved_models/anomaly_model_IsolationForest.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:07:23.253[0m | [33m[1mWARNING [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m167[0m - [33m[1mRecommendation model not found at /app/models/saved_models/recommendation_model_SVD.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:07:23.253[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m58[0m - [33m[1mOne or more models not found or failed to load. Initiating initial training.[0m
[32m2025-06-26 16:07:23.253[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 16:07:23.253[0m | [31m[1mERROR   [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m127[0m - [31m[1mError during full model retraining: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None[0m
[32m2025-06-26 16:07:23.253[0m | [31m[1mERROR   [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m65[0m - [31m[1mNot all models are trained/ready after initialization phase.[0m
[32m2025-06-26 16:07:23.253[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m27[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 16:07:23.253[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m31[0m - [1mScheduling model retraining every 24 hours.[0m
[32m2025-06-26 16:24:24.091[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 16:24:24.092[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m41[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 16:24:24.093[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 16:27:58.746[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 16:27:58.757[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 16:27:58.757[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 16:27:58.757[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m224[0m - [33m[1mForecasting model not found at /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:27:58.757[0m | [33m[1mWARNING [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m180[0m - [33m[1mAnomaly detection model not found at /app/models/saved_models/anomaly_model_IsolationForest.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:27:58.758[0m | [33m[1mWARNING [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m167[0m - [33m[1mRecommendation model not found at /app/models/saved_models/recommendation_model_SVD.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:27:58.758[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m58[0m - [33m[1mOne or more models not found or failed to load. Initiating initial training.[0m
[32m2025-06-26 16:27:58.758[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 16:27:58.758[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m90[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 16:27:58.758[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m39[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:27:58.789[0m | [33m[1mWARNING [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m49[0m - [33m[1mNo transaction data found for the last 90 days.[0m
[32m2025-06-26 16:27:58.789[0m | [33m[1mWARNING [0m | [36mapp.services.data_processor[0m:[36mprepare_time_series_data[0m:[36m136[0m - [33m[1mInput DataFrame is empty for time series preparation.[0m
[32m2025-06-26 16:27:58.790[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m97[0m - [33m[1mSkipping forecasting model training: No daily sales data.[0m
[32m2025-06-26 16:27:58.790[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m100[0m - [1mTraining Anomaly Detection Model...[0m
[32m2025-06-26 16:27:58.790[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m39[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:27:58.820[0m | [33m[1mWARNING [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m49[0m - [33m[1mNo transaction data found for the last 90 days.[0m
[32m2025-06-26 16:27:58.821[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m113[0m - [33m[1mSkipping anomaly detection model training: No transaction data for anomalies.[0m
[32m2025-06-26 16:27:58.821[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m116[0m - [1mTraining Recommendation Model...[0m
[32m2025-06-26 16:27:58.821[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m33[0m - [1mStarting training for recommendation model...[0m
[32m2025-06-26 16:27:58.821[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m150[0m - [1mGenerating user-item interaction matrix...[0m
[32m2025-06-26 16:27:58.821[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m39[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:27:58.852[0m | [33m[1mWARNING [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m49[0m - [33m[1mNo transaction data found for the last 90 days.[0m
[32m2025-06-26 16:27:58.853[0m | [33m[1mWARNING [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m154[0m - [33m[1mNo transactions data to build user-item matrix.[0m
[32m2025-06-26 16:27:58.853[0m | [33m[1mWARNING [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m37[0m - [33m[1mNo user-item interaction data to train recommendation model.[0m
[32m2025-06-26 16:27:58.853[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m118[0m - [1mRecommendation Model training result: {'status': 'failed', 'message': 'No data for training.'}[0m
[32m2025-06-26 16:27:58.853[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m124[0m - [1mFull model retraining process completed.[0m
[32m2025-06-26 16:27:58.853[0m | [31m[1mERROR   [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m65[0m - [31m[1mNot all models are trained/ready after initialization phase.[0m
[32m2025-06-26 16:27:58.853[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m27[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 16:27:58.853[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m31[0m - [1mScheduling model retraining every 24 hours.[0m
[32m2025-06-26 16:30:03.254[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 16:30:03.257[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m41[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 16:30:03.257[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 16:32:10.571[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 16:32:10.583[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 16:32:10.583[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 16:32:10.583[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m224[0m - [33m[1mForecasting model not found at /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:32:10.583[0m | [33m[1mWARNING [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m180[0m - [33m[1mAnomaly detection model not found at /app/models/saved_models/anomaly_model_IsolationForest.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:32:10.583[0m | [33m[1mWARNING [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m167[0m - [33m[1mRecommendation model not found at /app/models/saved_models/recommendation_model_SVD.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:32:10.583[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m58[0m - [33m[1mOne or more models not found or failed to load. Initiating initial training.[0m
[32m2025-06-26 16:32:10.583[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 16:32:10.584[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m90[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 16:32:10.584[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m39[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:32:10.619[0m | [33m[1mWARNING [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m49[0m - [33m[1mNo transaction data found for the last 90 days.[0m
[32m2025-06-26 16:32:10.620[0m | [33m[1mWARNING [0m | [36mapp.services.data_processor[0m:[36mprepare_time_series_data[0m:[36m136[0m - [33m[1mInput DataFrame is empty for time series preparation.[0m
[32m2025-06-26 16:32:10.620[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m97[0m - [33m[1mSkipping forecasting model training: No daily sales data.[0m
[32m2025-06-26 16:32:10.620[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m100[0m - [1mTraining Anomaly Detection Model...[0m
[32m2025-06-26 16:32:10.620[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m39[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:32:10.655[0m | [33m[1mWARNING [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m49[0m - [33m[1mNo transaction data found for the last 90 days.[0m
[32m2025-06-26 16:32:10.655[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m113[0m - [33m[1mSkipping anomaly detection model training: No transaction data for anomalies.[0m
[32m2025-06-26 16:32:10.656[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m116[0m - [1mTraining Recommendation Model...[0m
[32m2025-06-26 16:32:10.656[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m33[0m - [1mStarting training for recommendation model...[0m
[32m2025-06-26 16:32:10.656[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m150[0m - [1mGenerating user-item interaction matrix...[0m
[32m2025-06-26 16:32:10.656[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m39[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:32:10.693[0m | [33m[1mWARNING [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m49[0m - [33m[1mNo transaction data found for the last 90 days.[0m
[32m2025-06-26 16:32:10.693[0m | [33m[1mWARNING [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m154[0m - [33m[1mNo transactions data to build user-item matrix.[0m
[32m2025-06-26 16:32:10.693[0m | [33m[1mWARNING [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m37[0m - [33m[1mNo user-item interaction data to train recommendation model.[0m
[32m2025-06-26 16:32:10.694[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m118[0m - [1mRecommendation Model training result: {'status': 'failed', 'message': 'No data for training.'}[0m
[32m2025-06-26 16:32:10.694[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m124[0m - [1mFull model retraining process completed.[0m
[32m2025-06-26 16:32:10.694[0m | [31m[1mERROR   [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m65[0m - [31m[1mNot all models are trained/ready after initialization phase.[0m
[32m2025-06-26 16:32:10.694[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m27[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 16:32:10.694[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m31[0m - [1mScheduling model retraining every 24 hours.[0m
[32m2025-06-26 16:36:34.418[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 16:36:34.421[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m41[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 16:36:34.421[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 16:36:54.018[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 16:36:54.029[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 16:36:54.029[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 16:36:54.029[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m224[0m - [33m[1mForecasting model not found at /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:36:54.030[0m | [33m[1mWARNING [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m180[0m - [33m[1mAnomaly detection model not found at /app/models/saved_models/anomaly_model_IsolationForest.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:36:54.030[0m | [33m[1mWARNING [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m167[0m - [33m[1mRecommendation model not found at /app/models/saved_models/recommendation_model_SVD.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:36:54.030[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m58[0m - [33m[1mOne or more models not found or failed to load. Initiating initial training.[0m
[32m2025-06-26 16:36:54.030[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 16:36:54.030[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m90[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 16:36:54.030[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:36:54.402[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m57[0m - [1mFetched 47496 transactions.[0m
[32m2025-06-26 16:36:54.423[0m | [31m[1mERROR   [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m127[0m - [31m[1mError during full model retraining: 'Column not found: totalAmount'[0m
[32m2025-06-26 16:36:54.430[0m | [31m[1mERROR   [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m65[0m - [31m[1mNot all models are trained/ready after initialization phase.[0m
[32m2025-06-26 16:36:54.430[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m27[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 16:36:54.430[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m31[0m - [1mScheduling model retraining every 24 hours.[0m
[32m2025-06-26 16:39:48.116[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 16:39:48.117[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m41[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 16:39:48.117[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 16:45:43.523[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 16:45:43.536[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 16:45:43.537[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 16:45:43.537[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m215[0m - [33m[1mForecasting model not found at /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:45:43.537[0m | [33m[1mWARNING [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m180[0m - [33m[1mAnomaly detection model not found at /app/models/saved_models/anomaly_model_IsolationForest.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:45:43.537[0m | [33m[1mWARNING [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m167[0m - [33m[1mRecommendation model not found at /app/models/saved_models/recommendation_model_SVD.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:45:43.537[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m57[0m - [33m[1mOne or more models not found or failed to load. Initiating initial training.[0m
[32m2025-06-26 16:45:43.537[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 16:45:43.537[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m81[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 16:45:43.537[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:45:43.918[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m59[0m - [1mFetched 47496 transactions.[0m
[32m2025-06-26 16:45:43.943[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mprepare_time_series_data[0m:[36m159[0m - [1mPrepared time series data with frequency 'D' for 'totalAmount'. Rows: 1[0m
[32m2025-06-26 16:45:43.947[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_time_features[0m:[36m35[0m - [1mCreated time features for DataFrame with 1 rows.[0m
[32m2025-06-26 16:45:43.948[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_lag_features[0m:[36m54[0m - [1mCreated lag features for columns ['totalAmount'] with lags [1, 2, 3, 7, 14].[0m
[32m2025-06-26 16:45:43.950[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_rolling_features[0m:[36m81[0m - [1mCreated rolling features for columns ['totalAmount'] with windows [7, 14] and funcs ['mean', 'std'].[0m
[32m2025-06-26 16:45:43.951[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mget_features_and_target[0m:[36m182[0m - [1mSeparated features (X shape: (1, 20)) and target (y shape: (1,)).[0m
[32m2025-06-26 16:45:43.951[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m83[0m - [33m[1mTraining data is empty for forecasting model.[0m
[32m2025-06-26 16:45:43.951[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m87[0m - [1mForecasting Model training result: {'status': 'failed', 'message': 'Empty training data.'}[0m
[32m2025-06-26 16:45:43.951[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m92[0m - [1mTraining Anomaly Detection Model...[0m
[32m2025-06-26 16:45:43.951[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:45:44.358[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m59[0m - [1mFetched 47496 transactions.[0m
[32m2025-06-26 16:45:44.362[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'totalAmount' with MinMaxScaler.[0m
[32m2025-06-26 16:45:44.364[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'quantity' with MinMaxScaler.[0m
[32m2025-06-26 16:45:44.365[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36m_initialize_model[0m:[36m28[0m - [1mInitialized IsolationForest for anomaly detection with contamination=0.05.[0m
[32m2025-06-26 16:45:44.365[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m57[0m - [1mStarting training for IsolationForest model with 47496 samples and 2 features.[0m
[32m2025-06-26 16:45:44.931[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m85[0m - [1mAnomaly detection model training complete. Metrics: {'outliers_in_training_data': 2292, 'outlier_percentage': '4.83%'}[0m
[32m2025-06-26 16:45:44.961[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36msave_model[0m:[36m159[0m - [1mAnomaly detection model and feature engineer saved to /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 16:45:44.961[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m106[0m - [1mAnomaly Detection Model training result: {'status': 'success', 'metrics': {'outliers_in_training_data': 2292, 'outlier_percentage': '4.83%'}}[0m
[32m2025-06-26 16:45:44.961[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m111[0m - [1mTraining Recommendation Model...[0m
[32m2025-06-26 16:45:44.961[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m33[0m - [1mStarting training for recommendation model...[0m
[32m2025-06-26 16:45:44.961[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m167[0m - [1mGenerating user-item interaction matrix...[0m
[32m2025-06-26 16:45:44.961[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:45:45.369[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m59[0m - [1mFetched 47496 transactions.[0m
[32m2025-06-26 16:45:45.413[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m199[0m - [1mGenerated user-item matrix with shape: (477, 217)[0m
[32m2025-06-26 16:45:45.420[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m51[0m - [1mInitialized TruncatedSVD with 50 components.[0m
[32m2025-06-26 16:45:45.452[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m60[0m - [1mRecommendation model training complete.[0m
[32m2025-06-26 16:45:45.469[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36msave_model[0m:[36m150[0m - [1mRecommendation model and associated data saved to /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 16:45:45.469[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m113[0m - [1mRecommendation Model training result: {'status': 'success', 'message': 'Recommendation model trained successfully.'}[0m
[32m2025-06-26 16:45:45.469[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m119[0m - [1mFull model retraining process completed.[0m
[32m2025-06-26 16:45:45.561[0m | [31m[1mERROR   [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m64[0m - [31m[1mNot all models are trained/ready after initialization phase.[0m
[32m2025-06-26 16:45:45.561[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m27[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 16:45:45.561[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m31[0m - [1mScheduling model retraining every 24 hours.[0m
[32m2025-06-26 16:48:43.674[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 16:48:43.675[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m41[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 16:48:43.676[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 16:49:44.105[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 16:49:44.116[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 16:49:44.116[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 16:49:44.116[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m221[0m - [33m[1mForecasting model not found at /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib. Model needs to be trained.[0m
[32m2025-06-26 16:49:44.258[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m177[0m - [1mAnomaly detection model and feature engineer loaded from /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 16:49:44.262[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m164[0m - [1mRecommendation model and associated data loaded from /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 16:49:44.262[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m57[0m - [33m[1mOne or more models not found or failed to load. Initiating initial training.[0m
[32m2025-06-26 16:49:44.262[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 16:49:44.262[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m81[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 16:49:44.262[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:49:44.633[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 47812 transactions.[0m
[32m2025-06-26 16:49:44.660[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mprepare_time_series_data[0m:[36m170[0m - [1mPrepared time series data with frequency 'D' for 'totalAmount'. Rows: 1[0m
[32m2025-06-26 16:49:44.665[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_time_features[0m:[36m35[0m - [1mCreated time features for DataFrame with 1 rows.[0m
[32m2025-06-26 16:49:44.666[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_lag_features[0m:[36m54[0m - [1mCreated lag features for columns ['totalAmount'] with lags [1, 2, 3, 7, 14].[0m
[32m2025-06-26 16:49:44.667[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_rolling_features[0m:[36m81[0m - [1mCreated rolling features for columns ['totalAmount'] with windows [7, 14] and funcs ['mean', 'std'].[0m
[32m2025-06-26 16:49:44.668[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m64[0m - [33m[1mNot enough data remaining (1 rows) after feature engineering for forecasting model training. Need at least 16 rows.[0m
[32m2025-06-26 16:49:44.668[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m87[0m - [1mForecasting Model training result: {'status': 'failed', 'message': 'Not enough data after feature engineering (1 rows). Need at least 16 rows.'}[0m
[32m2025-06-26 16:49:44.668[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m92[0m - [1mTraining Anomaly Detection Model...[0m
[32m2025-06-26 16:49:44.669[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:49:45.078[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 47812 transactions.[0m
[32m2025-06-26 16:49:45.081[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'totalAmount' with MinMaxScaler.[0m
[32m2025-06-26 16:49:45.083[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'quantity' with MinMaxScaler.[0m
[32m2025-06-26 16:49:45.084[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36m_initialize_model[0m:[36m28[0m - [1mInitialized IsolationForest for anomaly detection with contamination=0.05.[0m
[32m2025-06-26 16:49:45.084[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m57[0m - [1mStarting training for IsolationForest model with 47812 samples and 2 features.[0m
[32m2025-06-26 16:49:45.646[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m85[0m - [1mAnomaly detection model training complete. Metrics: {'outliers_in_training_data': 2353, 'outlier_percentage': '4.92%'}[0m
[32m2025-06-26 16:49:45.672[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36msave_model[0m:[36m159[0m - [1mAnomaly detection model and feature engineer saved to /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 16:49:45.672[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m106[0m - [1mAnomaly Detection Model training result: {'status': 'success', 'metrics': {'outliers_in_training_data': 2353, 'outlier_percentage': '4.92%'}}[0m
[32m2025-06-26 16:49:45.672[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m111[0m - [1mTraining Recommendation Model...[0m
[32m2025-06-26 16:49:45.672[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m33[0m - [1mStarting training for recommendation model...[0m
[32m2025-06-26 16:49:45.672[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m178[0m - [1mGenerating user-item interaction matrix...[0m
[32m2025-06-26 16:49:45.673[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 16:49:46.145[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 47812 transactions.[0m
[32m2025-06-26 16:49:46.176[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m210[0m - [1mGenerated user-item matrix with shape: (484, 218)[0m
[32m2025-06-26 16:49:46.182[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m51[0m - [1mInitialized TruncatedSVD with 50 components.[0m
[32m2025-06-26 16:49:46.201[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m60[0m - [1mRecommendation model training complete.[0m
[32m2025-06-26 16:49:46.211[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36msave_model[0m:[36m150[0m - [1mRecommendation model and associated data saved to /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 16:49:46.212[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m113[0m - [1mRecommendation Model training result: {'status': 'success', 'message': 'Recommendation model trained successfully.'}[0m
[32m2025-06-26 16:49:46.212[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m119[0m - [1mFull model retraining process completed.[0m
[32m2025-06-26 16:49:46.250[0m | [31m[1mERROR   [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m64[0m - [31m[1mNot all models are trained/ready after initialization phase.[0m
[32m2025-06-26 16:49:46.251[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m27[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 16:49:46.251[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m31[0m - [1mScheduling model retraining every 24 hours.[0m
[32m2025-06-26 16:56:18.365[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 16:56:18.368[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m41[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 16:56:18.368[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 17:33:46.681[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 17:33:46.693[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 17:33:46.693[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 17:33:46.693[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m221[0m - [33m[1mForecasting model not found at /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib. Model needs to be trained.[0m
[32m2025-06-26 17:33:46.785[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m177[0m - [1mAnomaly detection model and feature engineer loaded from /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 17:33:46.788[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m164[0m - [1mRecommendation model and associated data loaded from /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 17:33:46.788[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m57[0m - [33m[1mOne or more models not found or failed to load. Initiating initial training.[0m
[32m2025-06-26 17:33:46.788[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 17:33:46.788[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m81[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 17:33:46.789[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 17:33:47.351[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 67661 transactions.[0m
[32m2025-06-26 17:33:47.389[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mprepare_time_series_data[0m:[36m170[0m - [1mPrepared time series data with frequency 'D' for 'totalAmount'. Rows: 91[0m
[32m2025-06-26 17:33:47.394[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_time_features[0m:[36m35[0m - [1mCreated time features for DataFrame with 91 rows.[0m
[32m2025-06-26 17:33:47.395[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_lag_features[0m:[36m54[0m - [1mCreated lag features for columns ['totalAmount'] with lags [1, 2, 3, 7, 14].[0m
[32m2025-06-26 17:33:47.396[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_rolling_features[0m:[36m81[0m - [1mCreated rolling features for columns ['totalAmount'] with windows [7, 14] and funcs ['mean', 'std'].[0m
[32m2025-06-26 17:33:47.397[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mget_features_and_target[0m:[36m182[0m - [1mSeparated features (X shape: (91, 20)) and target (y shape: (91,)).[0m
[32m2025-06-26 17:33:47.398[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36m_initialize_model[0m:[36m31[0m - [1mInitialized RandomForestRegressor for forecasting.[0m
[32m2025-06-26 17:33:47.398[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m93[0m - [1mStarting training for RandomForestRegressor model with 72 samples.[0m
[32m2025-06-26 17:33:47.482[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m106[0m - [1mForecasting model training complete. Metrics: {'rmse': 24440334.900297794, 'r2_score': -0.0549540363514307, 'trained_on_samples': 72, 'evaluated_on_samples': 19}[0m
[32m2025-06-26 17:33:47.500[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36msave_model[0m:[36m207[0m - [1mForecasting model, feature engineer, and trained features saved to /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib[0m
[32m2025-06-26 17:33:47.500[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m87[0m - [1mForecasting Model training result: {'status': 'success', 'metrics': {'rmse': 24440334.900297794, 'r2_score': -0.0549540363514307, 'trained_on_samples': 72, 'evaluated_on_samples': 19}}[0m
[32m2025-06-26 17:33:47.500[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m92[0m - [1mTraining Anomaly Detection Model...[0m
[32m2025-06-26 17:33:47.500[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 17:33:48.064[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 67668 transactions.[0m
[32m2025-06-26 17:33:48.069[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'totalAmount' with MinMaxScaler.[0m
[32m2025-06-26 17:33:48.071[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'quantity' with MinMaxScaler.[0m
[32m2025-06-26 17:33:48.071[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36m_initialize_model[0m:[36m28[0m - [1mInitialized IsolationForest for anomaly detection with contamination=0.05.[0m
[32m2025-06-26 17:33:48.072[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m57[0m - [1mStarting training for IsolationForest model with 67668 samples and 2 features.[0m
[32m2025-06-26 17:33:48.822[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m85[0m - [1mAnomaly detection model training complete. Metrics: {'outliers_in_training_data': 3368, 'outlier_percentage': '4.98%'}[0m
[32m2025-06-26 17:33:48.849[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36msave_model[0m:[36m159[0m - [1mAnomaly detection model and feature engineer saved to /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 17:33:48.849[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m106[0m - [1mAnomaly Detection Model training result: {'status': 'success', 'metrics': {'outliers_in_training_data': 3368, 'outlier_percentage': '4.98%'}}[0m
[32m2025-06-26 17:33:48.849[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m111[0m - [1mTraining Recommendation Model...[0m
[32m2025-06-26 17:33:48.850[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m33[0m - [1mStarting training for recommendation model...[0m
[32m2025-06-26 17:33:48.850[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m178[0m - [1mGenerating user-item interaction matrix...[0m
[32m2025-06-26 17:33:48.850[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 17:33:49.524[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 67683 transactions.[0m
[32m2025-06-26 17:33:49.571[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m210[0m - [1mGenerated user-item matrix with shape: (1000, 553)[0m
[32m2025-06-26 17:33:49.583[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m51[0m - [1mInitialized TruncatedSVD with 50 components.[0m
[32m2025-06-26 17:33:49.635[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m60[0m - [1mRecommendation model training complete.[0m
[32m2025-06-26 17:33:49.679[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36msave_model[0m:[36m150[0m - [1mRecommendation model and associated data saved to /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 17:33:49.679[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m113[0m - [1mRecommendation Model training result: {'status': 'success', 'message': 'Recommendation model trained successfully.'}[0m
[32m2025-06-26 17:33:49.679[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m119[0m - [1mFull model retraining process completed.[0m
[32m2025-06-26 17:33:49.736[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m27[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 17:33:49.736[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m31[0m - [1mScheduling model retraining every 24 hours.[0m
[32m2025-06-26 18:04:59.221[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 18:04:59.223[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m41[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 18:04:59.223[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 18:05:42.097[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 18:05:42.116[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 18:05:42.117[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 18:05:42.146[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m218[0m - [1mForecasting model, feature engineer, and trained features loaded from /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib[0m
[32m2025-06-26 18:05:42.175[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m177[0m - [1mAnomaly detection model and feature engineer loaded from /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 18:05:42.187[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m164[0m - [1mRecommendation model and associated data loaded from /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 18:05:42.187[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m55[0m - [1mAll models loaded successfully from disk.[0m
[32m2025-06-26 18:05:42.187[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m27[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 18:05:42.187[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m31[0m - [1mScheduling model retraining every 24 hours.[0m
[32m2025-06-26 18:05:53.317[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 18:05:53.318[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m41[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 18:05:53.319[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 18:06:52.397[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m16[0m - [1mAI Service starting up...[0m
[32m2025-06-26 18:06:52.413[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 18:06:52.414[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 18:06:52.414[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m221[0m - [33m[1mForecasting model not found at /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib. Model needs to be trained.[0m
[32m2025-06-26 18:06:52.414[0m | [33m[1mWARNING [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m180[0m - [33m[1mAnomaly detection model not found at /app/models/saved_models/anomaly_model_IsolationForest.joblib. Model needs to be trained.[0m
[32m2025-06-26 18:06:52.415[0m | [33m[1mWARNING [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m167[0m - [33m[1mRecommendation model not found at /app/models/saved_models/recommendation_model_SVD.joblib. Model needs to be trained.[0m
[32m2025-06-26 18:06:52.415[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m57[0m - [33m[1mOne or more models not found or failed to load. Initiating initial training.[0m
[32m2025-06-26 18:06:52.415[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 18:06:52.415[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m81[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 18:06:52.415[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:06:53.232[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 61617 transactions.[0m
[32m2025-06-26 18:06:53.287[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mprepare_time_series_data[0m:[36m170[0m - [1mPrepared time series data with frequency 'D' for 'totalAmount'. Rows: 91[0m
[32m2025-06-26 18:06:53.295[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_time_features[0m:[36m35[0m - [1mCreated time features for DataFrame with 91 rows.[0m
[32m2025-06-26 18:06:53.298[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_lag_features[0m:[36m54[0m - [1mCreated lag features for columns ['totalAmount'] with lags [1, 2, 3, 7, 14].[0m
[32m2025-06-26 18:06:53.300[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_rolling_features[0m:[36m81[0m - [1mCreated rolling features for columns ['totalAmount'] with windows [7, 14] and funcs ['mean', 'std'].[0m
[32m2025-06-26 18:06:53.302[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mget_features_and_target[0m:[36m182[0m - [1mSeparated features (X shape: (91, 20)) and target (y shape: (91,)).[0m
[32m2025-06-26 18:06:53.302[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36m_initialize_model[0m:[36m31[0m - [1mInitialized RandomForestRegressor for forecasting.[0m
[32m2025-06-26 18:06:53.303[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m93[0m - [1mStarting training for RandomForestRegressor model with 72 samples.[0m
[32m2025-06-26 18:06:53.433[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m106[0m - [1mForecasting model training complete. Metrics: {'rmse': 16910.117415286346, 'r2_score': -0.06657797889754025, 'trained_on_samples': 72, 'evaluated_on_samples': 19}[0m
[32m2025-06-26 18:06:53.461[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36msave_model[0m:[36m207[0m - [1mForecasting model, feature engineer, and trained features saved to /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib[0m
[32m2025-06-26 18:06:53.461[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m87[0m - [1mForecasting Model training result: {'status': 'success', 'metrics': {'rmse': 16910.117415286346, 'r2_score': -0.06657797889754025, 'trained_on_samples': 72, 'evaluated_on_samples': 19}}[0m
[32m2025-06-26 18:06:53.461[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m92[0m - [1mTraining Anomaly Detection Model...[0m
[32m2025-06-26 18:06:53.462[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:06:54.288[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 61673 transactions.[0m
[32m2025-06-26 18:06:54.294[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'totalAmount' with MinMaxScaler.[0m
[32m2025-06-26 18:06:54.297[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'quantity' with MinMaxScaler.[0m
[32m2025-06-26 18:06:54.297[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36m_initialize_model[0m:[36m28[0m - [1mInitialized IsolationForest for anomaly detection with contamination=0.05.[0m
[32m2025-06-26 18:06:54.297[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m57[0m - [1mStarting training for IsolationForest model with 61673 samples and 2 features.[0m
[32m2025-06-26 18:06:55.188[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m85[0m - [1mAnomaly detection model training complete. Metrics: {'outliers_in_training_data': 3069, 'outlier_percentage': '4.98%'}[0m
[32m2025-06-26 18:06:55.230[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36msave_model[0m:[36m159[0m - [1mAnomaly detection model and feature engineer saved to /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 18:06:55.231[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m106[0m - [1mAnomaly Detection Model training result: {'status': 'success', 'metrics': {'outliers_in_training_data': 3069, 'outlier_percentage': '4.98%'}}[0m
[32m2025-06-26 18:06:55.231[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m111[0m - [1mTraining Recommendation Model...[0m
[32m2025-06-26 18:06:55.231[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m33[0m - [1mStarting training for recommendation model...[0m
[32m2025-06-26 18:06:55.231[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m178[0m - [1mGenerating user-item interaction matrix...[0m
[32m2025-06-26 18:06:55.231[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:06:55.990[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 61770 transactions.[0m
[32m2025-06-26 18:06:56.230[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m210[0m - [1mGenerated user-item matrix with shape: (5006, 1027)[0m
[32m2025-06-26 18:06:56.306[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m51[0m - [1mInitialized TruncatedSVD with 50 components.[0m
[32m2025-06-26 18:06:56.440[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m60[0m - [1mRecommendation model training complete.[0m
[32m2025-06-26 18:06:56.572[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36msave_model[0m:[36m150[0m - [1mRecommendation model and associated data saved to /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 18:06:56.572[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m113[0m - [1mRecommendation Model training result: {'status': 'success', 'message': 'Recommendation model trained successfully.'}[0m
[32m2025-06-26 18:06:56.573[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m119[0m - [1mFull model retraining process completed.[0m
[32m2025-06-26 18:06:56.656[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m27[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 18:06:56.656[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m31[0m - [1mScheduling model retraining every 24 hours.[0m
[32m2025-06-26 18:09:52.577[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m43[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 18:09:52.578[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m41[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 18:09:52.578[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m45[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 18:16:23.067[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m29[0m - [1mAI Service starting up...[0m
[32m2025-06-26 18:16:23.087[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 18:16:23.087[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 18:16:23.087[0m | [33m[1mWARNING [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m221[0m - [33m[1mForecasting model not found at /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib. Model needs to be trained.[0m
[32m2025-06-26 18:16:23.088[0m | [33m[1mWARNING [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m180[0m - [33m[1mAnomaly detection model not found at /app/models/saved_models/anomaly_model_IsolationForest.joblib. Model needs to be trained.[0m
[32m2025-06-26 18:16:23.088[0m | [33m[1mWARNING [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m167[0m - [33m[1mRecommendation model not found at /app/models/saved_models/recommendation_model_SVD.joblib. Model needs to be trained.[0m
[32m2025-06-26 18:16:23.088[0m | [33m[1mWARNING [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m57[0m - [33m[1mOne or more models not found or failed to load. Initiating initial training.[0m
[32m2025-06-26 18:16:23.088[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 18:16:23.088[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m81[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 18:16:23.088[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:16:24.477[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 90199 transactions.[0m
[32m2025-06-26 18:16:24.567[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mprepare_time_series_data[0m:[36m170[0m - [1mPrepared time series data with frequency 'D' for 'totalAmount'. Rows: 91[0m
[32m2025-06-26 18:16:24.577[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_time_features[0m:[36m35[0m - [1mCreated time features for DataFrame with 91 rows.[0m
[32m2025-06-26 18:16:24.579[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_lag_features[0m:[36m54[0m - [1mCreated lag features for columns ['totalAmount'] with lags [1, 2, 3, 7, 14].[0m
[32m2025-06-26 18:16:24.582[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_rolling_features[0m:[36m81[0m - [1mCreated rolling features for columns ['totalAmount'] with windows [7, 14] and funcs ['mean', 'std'].[0m
[32m2025-06-26 18:16:24.584[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mget_features_and_target[0m:[36m182[0m - [1mSeparated features (X shape: (91, 20)) and target (y shape: (91,)).[0m
[32m2025-06-26 18:16:24.585[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36m_initialize_model[0m:[36m31[0m - [1mInitialized RandomForestRegressor for forecasting.[0m
[32m2025-06-26 18:16:24.585[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m93[0m - [1mStarting training for RandomForestRegressor model with 72 samples.[0m
[32m2025-06-26 18:16:24.730[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m106[0m - [1mForecasting model training complete. Metrics: {'rmse': 20678.256334772246, 'r2_score': 0.06816203030770196, 'trained_on_samples': 72, 'evaluated_on_samples': 19}[0m
[32m2025-06-26 18:16:24.760[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36msave_model[0m:[36m207[0m - [1mForecasting model, feature engineer, and trained features saved to /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib[0m
[32m2025-06-26 18:16:24.761[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m87[0m - [1mForecasting Model training result: {'status': 'success', 'metrics': {'rmse': 20678.256334772246, 'r2_score': 0.06816203030770196, 'trained_on_samples': 72, 'evaluated_on_samples': 19}}[0m
[32m2025-06-26 18:16:24.761[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m92[0m - [1mTraining Anomaly Detection Model...[0m
[32m2025-06-26 18:16:24.761[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:16:26.057[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 90287 transactions.[0m
[32m2025-06-26 18:16:26.064[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'totalAmount' with MinMaxScaler.[0m
[32m2025-06-26 18:16:26.069[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'quantity' with MinMaxScaler.[0m
[32m2025-06-26 18:16:26.069[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36m_initialize_model[0m:[36m28[0m - [1mInitialized IsolationForest for anomaly detection with contamination=0.05.[0m
[32m2025-06-26 18:16:26.069[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m57[0m - [1mStarting training for IsolationForest model with 90287 samples and 2 features.[0m
[32m2025-06-26 18:16:27.549[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m85[0m - [1mAnomaly detection model training complete. Metrics: {'outliers_in_training_data': 4505, 'outlier_percentage': '4.99%'}[0m
[32m2025-06-26 18:16:27.605[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36msave_model[0m:[36m159[0m - [1mAnomaly detection model and feature engineer saved to /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 18:16:27.605[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m106[0m - [1mAnomaly Detection Model training result: {'status': 'success', 'metrics': {'outliers_in_training_data': 4505, 'outlier_percentage': '4.99%'}}[0m
[32m2025-06-26 18:16:27.605[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m111[0m - [1mTraining Recommendation Model...[0m
[32m2025-06-26 18:16:27.605[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m33[0m - [1mStarting training for recommendation model...[0m
[32m2025-06-26 18:16:27.605[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m178[0m - [1mGenerating user-item interaction matrix...[0m
[32m2025-06-26 18:16:27.605[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:16:29.080[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 90429 transactions.[0m
[32m2025-06-26 18:16:29.381[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m210[0m - [1mGenerated user-item matrix with shape: (5067, 1031)[0m
[32m2025-06-26 18:16:29.470[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m51[0m - [1mInitialized TruncatedSVD with 50 components.[0m
[32m2025-06-26 18:16:30.080[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m60[0m - [1mRecommendation model training complete.[0m
[32m2025-06-26 18:16:30.214[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36msave_model[0m:[36m150[0m - [1mRecommendation model and associated data saved to /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 18:16:30.214[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m113[0m - [1mRecommendation Model training result: {'status': 'success', 'message': 'Recommendation model trained successfully.'}[0m
[32m2025-06-26 18:16:30.214[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m119[0m - [1mFull model retraining process completed.[0m
[32m2025-06-26 18:16:30.401[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m38[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 18:16:30.412[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m55[0m - [1mModel retraining scheduled every 1440 minutes.[0m
[32m2025-06-26 18:17:53.017[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m69[0m - [1mAI Service shutting down...[0m
[32m2025-06-26 18:17:53.017[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m73[0m - [1mShutting down APScheduler...[0m
[32m2025-06-26 18:17:53.017[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m75[0m - [1mAPScheduler shut down.[0m
[32m2025-06-26 18:17:53.019[0m | [1mINFO    [0m | [36mapp.database[0m:[36mclose_database_connection[0m:[36m41[0m - [1mMongoDB connection closed.[0m
[32m2025-06-26 18:17:53.019[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m78[0m - [1mAI Service shut down complete.[0m
[32m2025-06-26 18:18:26.223[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m29[0m - [1mAI Service starting up...[0m
[32m2025-06-26 18:18:26.242[0m | [1mINFO    [0m | [36mapp.database[0m:[36mconnect_to_database[0m:[36m25[0m - [1mSuccessfully connected to MongoDB at mongodb:27017/adaptive_bi?authSource=admin[0m
[32m2025-06-26 18:18:26.243[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m40[0m - [1mInitializing AI models...[0m
[32m2025-06-26 18:18:26.272[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mload_model[0m:[36m218[0m - [1mForecasting model, feature engineer, and trained features loaded from /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib[0m
[32m2025-06-26 18:18:26.299[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mload_model[0m:[36m177[0m - [1mAnomaly detection model and feature engineer loaded from /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 18:18:26.352[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mload_model[0m:[36m164[0m - [1mRecommendation model and associated data loaded from /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 18:18:26.353[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36minitialize_models[0m:[36m55[0m - [1mAll models loaded successfully from disk.[0m
[32m2025-06-26 18:18:26.353[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m38[0m - [1mAI models initialized successfully.[0m
[32m2025-06-26 18:18:26.355[0m | [1mINFO    [0m | [36mapp.main[0m:[36mlifespan[0m:[36m55[0m - [1mModel retraining scheduled every 1 minutes.[0m
[32m2025-06-26 18:19:26.356[0m | [1mINFO    [0m | [36mapp.main[0m:[36mperiodic_model_retraining[0m:[36m16[0m - [1mStarting scheduled model retraining...[0m
[32m2025-06-26 18:19:26.356[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 18:19:26.356[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m81[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 18:19:26.356[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:19:27.754[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 99335 transactions.[0m
[32m2025-06-26 18:19:27.832[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mprepare_time_series_data[0m:[36m170[0m - [1mPrepared time series data with frequency 'D' for 'totalAmount'. Rows: 91[0m
[32m2025-06-26 18:19:27.840[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_time_features[0m:[36m35[0m - [1mCreated time features for DataFrame with 91 rows.[0m
[32m2025-06-26 18:19:27.842[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_lag_features[0m:[36m54[0m - [1mCreated lag features for columns ['totalAmount'] with lags [1, 2, 3, 7, 14].[0m
[32m2025-06-26 18:19:27.844[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_rolling_features[0m:[36m81[0m - [1mCreated rolling features for columns ['totalAmount'] with windows [7, 14] and funcs ['mean', 'std'].[0m
[32m2025-06-26 18:19:27.846[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mget_features_and_target[0m:[36m182[0m - [1mSeparated features (X shape: (91, 20)) and target (y shape: (91,)).[0m
[32m2025-06-26 18:19:27.847[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36m_initialize_model[0m:[36m31[0m - [1mInitialized RandomForestRegressor for forecasting.[0m
[32m2025-06-26 18:19:27.847[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m93[0m - [1mStarting training for RandomForestRegressor model with 72 samples.[0m
[32m2025-06-26 18:19:27.989[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m106[0m - [1mForecasting model training complete. Metrics: {'rmse': 21833.115006711512, 'r2_score': 0.06982178954250884, 'trained_on_samples': 72, 'evaluated_on_samples': 19}[0m
[32m2025-06-26 18:19:28.020[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36msave_model[0m:[36m207[0m - [1mForecasting model, feature engineer, and trained features saved to /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib[0m
[32m2025-06-26 18:19:28.020[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m87[0m - [1mForecasting Model training result: {'status': 'success', 'metrics': {'rmse': 21833.115006711512, 'r2_score': 0.06982178954250884, 'trained_on_samples': 72, 'evaluated_on_samples': 19}}[0m
[32m2025-06-26 18:19:28.020[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m92[0m - [1mTraining Anomaly Detection Model...[0m
[32m2025-06-26 18:19:28.020[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:19:29.404[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 99426 transactions.[0m
[32m2025-06-26 18:19:29.411[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'totalAmount' with MinMaxScaler.[0m
[32m2025-06-26 18:19:29.415[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'quantity' with MinMaxScaler.[0m
[32m2025-06-26 18:19:29.416[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36m_initialize_model[0m:[36m28[0m - [1mInitialized IsolationForest for anomaly detection with contamination=0.05.[0m
[32m2025-06-26 18:19:29.416[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m57[0m - [1mStarting training for IsolationForest model with 99426 samples and 2 features.[0m
[32m2025-06-26 18:19:30.790[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m85[0m - [1mAnomaly detection model training complete. Metrics: {'outliers_in_training_data': 4961, 'outlier_percentage': '4.99%'}[0m
[32m2025-06-26 18:19:30.833[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36msave_model[0m:[36m159[0m - [1mAnomaly detection model and feature engineer saved to /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 18:19:30.833[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m106[0m - [1mAnomaly Detection Model training result: {'status': 'success', 'metrics': {'outliers_in_training_data': 4961, 'outlier_percentage': '4.99%'}}[0m
[32m2025-06-26 18:19:30.834[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m111[0m - [1mTraining Recommendation Model...[0m
[32m2025-06-26 18:19:30.834[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m33[0m - [1mStarting training for recommendation model...[0m
[32m2025-06-26 18:19:30.834[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m178[0m - [1mGenerating user-item interaction matrix...[0m
[32m2025-06-26 18:19:30.834[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:19:31.956[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 99566 transactions.[0m
[32m2025-06-26 18:19:32.303[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m210[0m - [1mGenerated user-item matrix with shape: (5077, 1037)[0m
[32m2025-06-26 18:19:32.387[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m51[0m - [1mInitialized TruncatedSVD with 50 components.[0m
[32m2025-06-26 18:19:32.826[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m60[0m - [1mRecommendation model training complete.[0m
[32m2025-06-26 18:19:32.977[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36msave_model[0m:[36m150[0m - [1mRecommendation model and associated data saved to /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 18:19:32.977[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m113[0m - [1mRecommendation Model training result: {'status': 'success', 'message': 'Recommendation model trained successfully.'}[0m
[32m2025-06-26 18:19:32.977[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m119[0m - [1mFull model retraining process completed.[0m
[32m2025-06-26 18:19:33.126[0m | [1mINFO    [0m | [36mapp.main[0m:[36mperiodic_model_retraining[0m:[36m19[0m - [1mScheduled model retraining completed successfully.[0m
[32m2025-06-26 18:20:26.355[0m | [1mINFO    [0m | [36mapp.main[0m:[36mperiodic_model_retraining[0m:[36m16[0m - [1mStarting scheduled model retraining...[0m
[32m2025-06-26 18:20:26.356[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 18:20:26.356[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m81[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 18:20:26.356[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:20:27.531[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 102331 transactions.[0m
[32m2025-06-26 18:20:27.619[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mprepare_time_series_data[0m:[36m170[0m - [1mPrepared time series data with frequency 'D' for 'totalAmount'. Rows: 91[0m
[32m2025-06-26 18:20:27.627[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_time_features[0m:[36m35[0m - [1mCreated time features for DataFrame with 91 rows.[0m
[32m2025-06-26 18:20:27.629[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_lag_features[0m:[36m54[0m - [1mCreated lag features for columns ['totalAmount'] with lags [1, 2, 3, 7, 14].[0m
[32m2025-06-26 18:20:27.632[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_rolling_features[0m:[36m81[0m - [1mCreated rolling features for columns ['totalAmount'] with windows [7, 14] and funcs ['mean', 'std'].[0m
[32m2025-06-26 18:20:27.635[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mget_features_and_target[0m:[36m182[0m - [1mSeparated features (X shape: (91, 20)) and target (y shape: (91,)).[0m
[32m2025-06-26 18:20:27.635[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36m_initialize_model[0m:[36m31[0m - [1mInitialized RandomForestRegressor for forecasting.[0m
[32m2025-06-26 18:20:27.636[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m93[0m - [1mStarting training for RandomForestRegressor model with 72 samples.[0m
[32m2025-06-26 18:20:27.766[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m106[0m - [1mForecasting model training complete. Metrics: {'rmse': 22714.053459007264, 'r2_score': -0.006338968634459485, 'trained_on_samples': 72, 'evaluated_on_samples': 19}[0m
[32m2025-06-26 18:20:27.794[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36msave_model[0m:[36m207[0m - [1mForecasting model, feature engineer, and trained features saved to /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib[0m
[32m2025-06-26 18:20:27.795[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m87[0m - [1mForecasting Model training result: {'status': 'success', 'metrics': {'rmse': 22714.053459007264, 'r2_score': -0.006338968634459485, 'trained_on_samples': 72, 'evaluated_on_samples': 19}}[0m
[32m2025-06-26 18:20:27.795[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m92[0m - [1mTraining Anomaly Detection Model...[0m
[32m2025-06-26 18:20:27.795[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:20:29.243[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 102416 transactions.[0m
[32m2025-06-26 18:20:29.249[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'totalAmount' with MinMaxScaler.[0m
[32m2025-06-26 18:20:29.254[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'quantity' with MinMaxScaler.[0m
[32m2025-06-26 18:20:29.255[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36m_initialize_model[0m:[36m28[0m - [1mInitialized IsolationForest for anomaly detection with contamination=0.05.[0m
[32m2025-06-26 18:20:29.255[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m57[0m - [1mStarting training for IsolationForest model with 102416 samples and 2 features.[0m
[32m2025-06-26 18:20:30.683[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m85[0m - [1mAnomaly detection model training complete. Metrics: {'outliers_in_training_data': 5100, 'outlier_percentage': '4.98%'}[0m
[32m2025-06-26 18:20:30.722[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36msave_model[0m:[36m159[0m - [1mAnomaly detection model and feature engineer saved to /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 18:20:30.722[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m106[0m - [1mAnomaly Detection Model training result: {'status': 'success', 'metrics': {'outliers_in_training_data': 5100, 'outlier_percentage': '4.98%'}}[0m
[32m2025-06-26 18:20:30.722[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m111[0m - [1mTraining Recommendation Model...[0m
[32m2025-06-26 18:20:30.722[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m33[0m - [1mStarting training for recommendation model...[0m
[32m2025-06-26 18:20:30.723[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m178[0m - [1mGenerating user-item interaction matrix...[0m
[32m2025-06-26 18:20:30.723[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:20:31.907[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 102563 transactions.[0m
[32m2025-06-26 18:20:32.172[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m210[0m - [1mGenerated user-item matrix with shape: (5082, 1039)[0m
[32m2025-06-26 18:20:32.243[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m51[0m - [1mInitialized TruncatedSVD with 50 components.[0m
[32m2025-06-26 18:20:32.401[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m60[0m - [1mRecommendation model training complete.[0m
[32m2025-06-26 18:20:32.559[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36msave_model[0m:[36m150[0m - [1mRecommendation model and associated data saved to /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 18:20:32.559[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m113[0m - [1mRecommendation Model training result: {'status': 'success', 'message': 'Recommendation model trained successfully.'}[0m
[32m2025-06-26 18:20:32.559[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m119[0m - [1mFull model retraining process completed.[0m
[32m2025-06-26 18:20:32.735[0m | [1mINFO    [0m | [36mapp.main[0m:[36mperiodic_model_retraining[0m:[36m19[0m - [1mScheduled model retraining completed successfully.[0m
[32m2025-06-26 18:21:26.355[0m | [1mINFO    [0m | [36mapp.main[0m:[36mperiodic_model_retraining[0m:[36m16[0m - [1mStarting scheduled model retraining...[0m
[32m2025-06-26 18:21:26.356[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m75[0m - [1mStarting full model retraining process...[0m
[32m2025-06-26 18:21:26.356[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m81[0m - [1mTraining Forecasting Model...[0m
[32m2025-06-26 18:21:26.356[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:21:27.793[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 105334 transactions.[0m
[32m2025-06-26 18:21:27.881[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mprepare_time_series_data[0m:[36m170[0m - [1mPrepared time series data with frequency 'D' for 'totalAmount'. Rows: 91[0m
[32m2025-06-26 18:21:27.889[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_time_features[0m:[36m35[0m - [1mCreated time features for DataFrame with 91 rows.[0m
[32m2025-06-26 18:21:27.891[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_lag_features[0m:[36m54[0m - [1mCreated lag features for columns ['totalAmount'] with lags [1, 2, 3, 7, 14].[0m
[32m2025-06-26 18:21:27.893[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mcreate_rolling_features[0m:[36m81[0m - [1mCreated rolling features for columns ['totalAmount'] with windows [7, 14] and funcs ['mean', 'std'].[0m
[32m2025-06-26 18:21:27.895[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mget_features_and_target[0m:[36m182[0m - [1mSeparated features (X shape: (91, 20)) and target (y shape: (91,)).[0m
[32m2025-06-26 18:21:27.896[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36m_initialize_model[0m:[36m31[0m - [1mInitialized RandomForestRegressor for forecasting.[0m
[32m2025-06-26 18:21:27.896[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m93[0m - [1mStarting training for RandomForestRegressor model with 72 samples.[0m
[32m2025-06-26 18:21:28.033[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36mtrain[0m:[36m106[0m - [1mForecasting model training complete. Metrics: {'rmse': 23028.044577319793, 'r2_score': 0.05088334705452824, 'trained_on_samples': 72, 'evaluated_on_samples': 19}[0m
[32m2025-06-26 18:21:28.062[0m | [1mINFO    [0m | [36mapp.models.forecasting[0m:[36msave_model[0m:[36m207[0m - [1mForecasting model, feature engineer, and trained features saved to /app/models/saved_models/forecasting_model_RandomForestRegressor.joblib[0m
[32m2025-06-26 18:21:28.063[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m87[0m - [1mForecasting Model training result: {'status': 'success', 'metrics': {'rmse': 23028.044577319793, 'r2_score': 0.05088334705452824, 'trained_on_samples': 72, 'evaluated_on_samples': 19}}[0m
[32m2025-06-26 18:21:28.063[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m92[0m - [1mTraining Anomaly Detection Model...[0m
[32m2025-06-26 18:21:28.063[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:21:29.481[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 105411 transactions.[0m
[32m2025-06-26 18:21:29.488[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'totalAmount' with MinMaxScaler.[0m
[32m2025-06-26 18:21:29.492[0m | [1mINFO    [0m | [36mapp.services.feature_engineering[0m:[36mscale_features[0m:[36m122[0m - [1mFitted and scaled 'quantity' with MinMaxScaler.[0m
[32m2025-06-26 18:21:29.493[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36m_initialize_model[0m:[36m28[0m - [1mInitialized IsolationForest for anomaly detection with contamination=0.05.[0m
[32m2025-06-26 18:21:29.493[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m57[0m - [1mStarting training for IsolationForest model with 105411 samples and 2 features.[0m
[32m2025-06-26 18:21:30.941[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36mtrain[0m:[36m85[0m - [1mAnomaly detection model training complete. Metrics: {'outliers_in_training_data': 5267, 'outlier_percentage': '5.00%'}[0m
[32m2025-06-26 18:21:30.981[0m | [1mINFO    [0m | [36mapp.models.anomaly_detection[0m:[36msave_model[0m:[36m159[0m - [1mAnomaly detection model and feature engineer saved to /app/models/saved_models/anomaly_model_IsolationForest.joblib[0m
[32m2025-06-26 18:21:30.981[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m106[0m - [1mAnomaly Detection Model training result: {'status': 'success', 'metrics': {'outliers_in_training_data': 5267, 'outlier_percentage': '5.00%'}}[0m
[32m2025-06-26 18:21:30.982[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m111[0m - [1mTraining Recommendation Model...[0m
[32m2025-06-26 18:21:30.982[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m33[0m - [1mStarting training for recommendation model...[0m
[32m2025-06-26 18:21:30.982[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m178[0m - [1mGenerating user-item interaction matrix...[0m
[32m2025-06-26 18:21:30.982[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m36[0m - [1mFetching transaction data from 2025-03-28 to 2025-06-26[0m
[32m2025-06-26 18:21:32.427[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_transactions_data[0m:[36m68[0m - [1mFetched 105553 transactions.[0m
[32m2025-06-26 18:21:32.641[0m | [1mINFO    [0m | [36mapp.services.data_processor[0m:[36mget_user_item_matrix[0m:[36m210[0m - [1mGenerated user-item matrix with shape: (5082, 1041)[0m
[32m2025-06-26 18:21:32.714[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m51[0m - [1mInitialized TruncatedSVD with 50 components.[0m
[32m2025-06-26 18:21:32.834[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36mtrain[0m:[36m60[0m - [1mRecommendation model training complete.[0m
[32m2025-06-26 18:21:32.972[0m | [1mINFO    [0m | [36mapp.models.recommendation[0m:[36msave_model[0m:[36m150[0m - [1mRecommendation model and associated data saved to /app/models/saved_models/recommendation_model_SVD.joblib[0m
[32m2025-06-26 18:21:32.973[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m113[0m - [1mRecommendation Model training result: {'status': 'success', 'message': 'Recommendation model trained successfully.'}[0m
[32m2025-06-26 18:21:32.973[0m | [1mINFO    [0m | [36mapp.models.model_manager[0m:[36mtrain_all_models[0m:[36m119[0m - [1mFull model retraining process completed.[0m
[32m2025-06-26 18:21:33.160[0m | [1mINFO    [0m | [36mapp.main[0m:[36mperiodic_model_retraining[0m:[36m19[0m - [1mScheduled model retraining completed successfully.[0m
